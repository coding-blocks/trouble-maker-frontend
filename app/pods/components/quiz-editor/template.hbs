<div class="container">
    <div class="row">
        <div class="col-4"></div>
        <div class="col-6">
            <h1>Add new Quiz:</h1>
        </div>
    </div>
    <div class="row justify-content-center align-items-center">
        <div class="col-2">
            <label>Title *</label>
        </div>
        <div class="col-6 input-group">
            {{input type="text" class="input-text" value=quiz.title}}
        </div>
        <div class="col-3">
            {{markdown-to-html quiz.title}}
        </div>
    </div>
    <div class="row justify-content-center align-items-center">
        <div class="col-2">
            <label>Description *</label>
        </div>
        <div class="col-6 input-group">
            {{textarea type="text" class="input-text py-4" value=quiz.description}}
        </div>
        <div class="col-3">
            {{markdown-to-html quiz.description extensions='katex'}}
        </div>
    </div>
    {{#unless quiz.isNew}}
        <div class="row">
            <div class="col-12 col-md-2">
                <label>Questions</label>
            </div>
            <div class="col-12 col-md-6">
                {{#power-select-multiple
                        search=(perform questionFilterTask)
                        selected=quiz.questions
                        onchange=(action (mut quiz.questions ))
                as |question|}}
                    {{question.title}}
                {{/power-select-multiple}}
            </div>
            <div class="col-12 col-md-4">
                {{#each quiz.questions as |question|}}
                    <a style="text-decoration:underline;" class="red" href="/questions/{{question.id}}" target="_blank">{{question.title}}</a>
                {{/each}}
            </div>
        </div>
    {{/unless}}

    <div class="row justify-content-center align-items-center">
        <div class="col-2">
            <label>Image Url *</label>
        </div>
        <div class="col-6 input-group">
            {{input type="text" class="input-text" value=quiz.image}}
        </div>
    </div>

    <div class="row justify-content-center align-items-center">
        <div class="col-2">
            <label>Duration *</label>
        </div>
        <div class="col-6 input-group">
            {{input type="text" class="input-text" value=quiz.duration}}
        </div>
    </div>
    <div class="row justify-content-center align-items-center">
        <div class="col-2">
            <label>Max Attempts *</label>
        </div>
        <div class="col-6 input-group">
            {{input type="text" class="input-text" value=quiz.maxAttempts}}
        </div>
    </div>
    <div class="row">
        <div class="col-2">
            <label>Start Date *</label>
        </div>
        <div class="col-6">
            {{ember-datetime-picker value=startDateMoment }}
            {{!-- {{input type="text" value=quiz.startDate}} --}}
        </div>
    </div>
    <div class="row">
        <div class="col-2">
            <label>End Date *</label>
        </div>
        <div class="col-6">
            {{ember-datetime-picker value=endDateMoment }}

            {{!-- {{input type="text" value=quiz.endDate}} --}}
        </div>
    </div>

    <div class="row">
        <div class="col-2"></div>
        {{#if quiz.id}}
            <div class="col-4">
                <div class="button-solid">
                    <a class="white" href="{{quiz.id}}/preview">
                        <button>Preview</button>
                    </a>
                </div>
            </div>
        {{/if}}
        <div class="col-2"></div>
        <div class="col-4">
            <div class="button-solid">
                <button {{action 'save'}}>Save Changes</button>
            </div>
        </div>
    </div>

</div>

